<Window
    x:Class="LRC_App.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:LRC_App"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="LRC Finder"
    Width="900"
    Height="500"
    MinWidth="750"
    MinHeight="450"
    Background="#1E1E1E"
    Foreground="White"
    mc:Ignorable="d">

    <Grid Margin="10">
        <!--  Columnas principales  -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="Auto"
                MinWidth="280"
                MaxWidth="400" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Panel izquierdo  -->
        <Border
            Grid.Column="0"
            Margin="0,0,10,0"
            Padding="20"
            Background="#2D2D30"
            CornerRadius="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <!--  TÃ­tulo  -->
                    <RowDefinition Height="Auto" />
                    <!--  Carpeta y botÃ³n  -->
                    <RowDefinition Height="Auto" />
                    <!--  Separador  -->
                    <RowDefinition Height="Auto" />
                    <!--  Estado  -->
                    <RowDefinition Height="Auto" />
                    <!--  Barra progreso  -->
                    <RowDefinition Height="*" />
                    <!--  Espaciador  -->
                    <RowDefinition Height="Auto" />
                    <!--  Resumen  -->
                </Grid.RowDefinitions>

                <!--  TÃ­tulo  -->
                <TextBlock
                    Grid.Row="0"
                    Margin="0,0,0,15"
                    FontSize="16"
                    FontWeight="Bold"
                    Text="ðŸŽµ Cargar carpeta de mÃºsica"
                    TextWrapping="Wrap" />

                <!--  Input + botÃ³n  -->
                <DockPanel Grid.Row="1" LastChildFill="False">
                    <TextBox
                        Name="txtCarpeta"
                        Width="Auto"
                        Height="32"
                        MinWidth="150"
                        Margin="0,0,8,0"
                        Padding="5"
                        VerticalContentAlignment="Center"
                        Background="#3A3A3A"
                        BorderThickness="0"
                        DockPanel.Dock="Left"
                        ToolTip="Ruta de carpeta de mÃºsica" />
                    <Button
                        Name="btnCargar"
                        Width="Auto"
                        Height="32"
                        MinWidth="90"
                        Padding="10,0"
                        Background="#007ACC"
                        BorderThickness="0"
                        Click="btnCargar_Click"
                        Content="Cargar"
                        Cursor="Hand"
                        Foreground="White" />
                </DockPanel>

                <Separator
                    Grid.Row="2"
                    Margin="0,15,0,15"
                    Background="#444" />

                <!--  Estado  -->
                <StackPanel Grid.Row="3" Orientation="Vertical">
                    <TextBlock FontWeight="Bold" Text="Estado de bÃºsqueda:" />
                    <TextBlock
                        Name="txtEstadoAPI"
                        Margin="0,3,0,10"
                        FontStyle="Italic"
                        Foreground="#CCCCCC"
                        Text="Esperando..."
                        TextWrapping="Wrap" />
                </StackPanel>

                <!--  Barra de progreso  -->
                <ProgressBar
                    Name="progressAPI"
                    Grid.Row="4"
                    Height="22"
                    Margin="0,0,0,10"
                    Background="#444"
                    Foreground="#007ACC"
                    Maximum="100"
                    Minimum="0"
                    Value="0" />

                <!--  Espaciador flexible  -->
                <Grid Grid.Row="5" />

                <!--  Resumen  -->
                <StackPanel Grid.Row="6" Orientation="Vertical">
                    <TextBlock FontWeight="Bold" Text="Canciones procesadas:" />
                    <TextBlock
                        Name="txtProcesadas"
                        FontSize="13"
                        Foreground="#AAAAAA"
                        Text="0 / 0" />
                </StackPanel>
            </Grid>
        </Border>

        <!--  Panel derecho - Lista de canciones  -->
        <Border
            Grid.Column="1"
            Padding="10"
            Background="#252526"
            CornerRadius="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl Name="lstCanciones">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border
                                Margin="0,0,0,8"
                                Padding="8"
                                Background="#333333"
                                CornerRadius="6">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="40" />
                                    </Grid.ColumnDefinitions>

                                    <StackPanel>
                                        <TextBlock
                                            FontSize="14"
                                            FontWeight="Bold"
                                            Text="{Binding titulo}"
                                            TextTrimming="CharacterEllipsis" />
                                        <TextBlock
                                            FontStyle="Italic"
                                            Foreground="#AAAAAA"
                                            Text="{Binding artista}"
                                            TextTrimming="CharacterEllipsis" />
                                        <TextBlock
                                            FontSize="12"
                                            Foreground="#777777"
                                            Text="{Binding album}"
                                            TextTrimming="CharacterEllipsis" />
                                    </StackPanel>

                                    <!--  Ãcono de estado  -->
                                    <TextBlock
                                        Grid.Column="1"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="20"
                                        Foreground="{Binding tieneLyrics, Converter={StaticResource BoolToColorConverter}}"
                                        Text="{Binding tieneLyrics, Converter={StaticResource BoolToIconConverter}}" />
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
